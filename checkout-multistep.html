<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Step Checkout - ShopHub</title>
    <link rel="stylesheet" href="css/checkout-multistep.css">
</head>
<body>
    <!-- Header -->
    <header class="checkout-header">
        <div class="container">
            <h1>ShopHub Checkout</h1>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="container">
            <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
            </div>
            <div class="steps">
                <div class="step active" data-step="1">
                    <div class="step-circle">1</div>
                    <div class="step-label">Shipping</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-circle">2</div>
                    <div class="step-label">Review Order</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-circle">3</div>
                    <div class="step-label">Payment</div>
                </div>
            </div>
        </div>
    </progress>

    <!-- Main Content -->
    <main class="checkout-main">
        <div class="container">
            <div class="checkout-wrapper">
                <!-- Step 1: Shipping Details -->
                <div class="step-content active" id="step-1">
                    <div class="step-header">
                        <h2>Shipping Information</h2>
                        <p>Enter your delivery details</p>
                    </div>
                    
                    <form id="shipping-form" class="checkout-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="first-name">First Name *</label>
                                <input 
                                    type="text" 
                                    id="first-name" 
                                    name="firstName"
                                    pattern="[A-Za-z\s]{2,}"
                                    placeholder="John"
                                    required>
                                <span class="error-message" id="error-first-name"></span>
                            </div>
                            <div class="form-group">
                                <label for="last-name">Last Name *</label>
                                <input 
                                    type="text" 
                                    id="last-name" 
                                    name="lastName"
                                    pattern="[A-Za-z\s]{2,}"
                                    placeholder="Doe"
                                    required>
                                <span class="error-message" id="error-last-name"></span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="email">Email Address *</label>
                            <input 
                                type="email" 
                                id="email" 
                                name="email"
                                placeholder="john@example.com"
                                required>
                            <span class="error-message" id="error-email"></span>
                        </div>

                        <div class="form-group">
                            <label for="phone">Phone Number *</label>
                            <input 
                                type="tel" 
                                id="phone" 
                                name="phone"
                                pattern="[0-9\s\-\+\(\)]{10,}"
                                placeholder="(555) 123-4567"
                                required>
                            <span class="error-message" id="error-phone"></span>
                        </div>

                        <div class="form-group">
                            <label for="address">Street Address *</label>
                            <input 
                                type="text" 
                                id="address" 
                                name="address"
                                placeholder="123 Main Street"
                                required>
                            <span class="error-message" id="error-address"></span>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="city">City *</label>
                                <input 
                                    type="text" 
                                    id="city" 
                                    name="city"
                                    placeholder="New York"
                                    required>
                                <span class="error-message" id="error-city"></span>
                            </div>
                            <div class="form-group">
                                <label for="state">State *</label>
                                <input 
                                    type="text" 
                                    id="state" 
                                    name="state"
                                    placeholder="NY"
                                    required>
                                <span class="error-message" id="error-state"></span>
                            </div>
                            <div class="form-group">
                                <label for="zip">ZIP Code *</label>
                                <input 
                                    type="text" 
                                    id="zip" 
                                    name="zip"
                                    pattern="\d{5,}"
                                    placeholder="10001"
                                    required>
                                <span class="error-message" id="error-zip"></span>
                            </div>
                        </div>

                        <div class="shipping-options">
                            <h3>Shipping Method</h3>
                            <label class="radio-option">
                                <input type="radio" name="shippingMethod" value="standard" checked>
                                <span class="option-text">
                                    <strong>Standard Shipping</strong>
                                    <span class="option-desc">5-7 business days ‚Ä¢ FREE</span>
                                </span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="shippingMethod" value="express">
                                <span class="option-text">
                                    <strong>Express Shipping</strong>
                                    <span class="option-desc">2-3 business days ‚Ä¢ 15.00</span>
                                </span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="shippingMethod" value="overnight">
                                <span class="option-text">
                                    <strong>Overnight Shipping</strong>
                                    <span class="option-desc">Next business day ‚Ä¢ 25.00</span>
                                </span>
                            </label>
                        </div>

                        <div class="button-group">
                            <button type="button" class="btn btn-next" id="btn-next-1">Continue to Review</button>
                        </div>
                    </form>
                </div>
                

                <!-- Step 2: Order Summary -->
                <div class="step-content" id="step-2">
                    <div class="step-header">
                        <h2>Review Your Order</h2>
                        <p>Check your items and shipping details</p>
                    </div>

                    <div class="order-review">
                        <!-- Cart Items -->
                        <div class="review-section">
                            <h3>Order Items</h3>
                            <div class="items-list" id="review-items">
                                <!-- Items will be populated here -->
                            </div>
                        </div>

                        <!-- Shipping Details Summary -->
                        <div class="review-section">
                            <h3>Shipping Address</h3>
                            <div class="shipping-summary" id="shipping-summary">
                                <!-- Shipping info will be populated here -->
                            </div>
                            <button type="button" class="btn-link" id="btn-edit-shipping">Edit Shipping</button>
                </div>


                        <!-- Order Summary -->
                        <div class="review-section">
                            <h3>Order Summary</h3>
                            <div class="summary-box">
                                <div class="summary-row">
                                    <span>Subtotal:</span>
                                    <span id="review-subtotal">$0.00</span>
                                </div>
                                <div class="summary-row">
                                    <span>Shipping:</span>
                                    <span id="review-shipping">$0.00</span>
                                </div>
                                <div class="summary-row">
                                    <span>Tax (8%):</span>
                                    <span id="review-tax">$0.00</span>
                                </div>
                                <div class="summary-row total">
                                    <span>Total:</span>
                                    <span id="review-total">$0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="coupon-box">
  <h3>Have a Coupon?</h3>
  <input type="text" id="couponCode" placeholder="Enter coupon code">
  <button onclick="applyCoupon()">Apply</button>
  <p id="couponMessage"></p>
</div>


                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" id="btn-prev-2">Back</button>
                        <button type="button" class="btn btn-next" id="btn-next-2">Proceed to Payment</button>
                    </div>
                </div>

                <!-- Step 3: Payment -->
                <div class="step-content" id="step-3">
                    <div class="step-header">
                        <h2>Payment Method</h2>
                        <p>Choose how you'd like to pay</p>
                    </div>

                    <div class="payment-methods">
                        <!-- Payment Method Tabs -->
                        <div class="payment-tabs">
                            <button type="button" class="payment-tab active" data-tab="card">
                                üí≥ Card Payment
                            </button>
                            <button type="button" class="payment-tab" data-tab="gpay">
                                üîê Google Pay
                            </button>
                        </div>

                        <!-- Card Payment Form -->
                        <div class="payment-tab-content active" id="tab-card">
                            <form id="card-form" class="checkout-form">
                                <div class="form-group">
                                    <label for="card-name">Name on Card *</label>
                                    <input 
                                        type="text" 
                                        id="card-name" 
                                        name="cardName"
                                        pattern="[A-Za-z\s]{2,}"
                                        placeholder="John Doe"
                                        required>
                                    <span class="error-message" id="error-card-name"></span>
                                </div>

                                <div class="form-group">
                                    <label for="card-number">Card Number *</label>
                                    <input 
                                        type="text" 
                                        id="card-number" 
                                        name="cardNumber"
                                        placeholder="1234 5678 9012 3456"
                                        maxlength="19"
                                        required>
                                    <span class="error-message" id="error-card-number"></span>
                                    <div class="card-type-icon" id="card-type-icon"></div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="expiry">Expiry Date (MM/YY) *</label>
                                        <input 
                                            type="text" 
                                            id="expiry" 
                                            name="expiry"
                                            placeholder="12/25"
                                            maxlength="5"
                                            required>
                                        <span class="error-message" id="error-expiry"></span>
                                    </div>
                                    <div class="form-group">
                                        <label for="cvv">CVV *</label>
                                        <input 
                                            type="text" 
                                            id="cvv" 
                                            name="cvv"
                                            placeholder="123"
                                            maxlength="4"
                                            required>
                                        <span class="error-message" id="error-cvv"></span>
                                    </div>
                                </div>

                                <div class="form-group checkbox">
                                    <input type="checkbox" id="save-card" name="saveCard">
                                    <label for="save-card">Save this card for future purchases</label>
                                </div>

                                <button type="submit" class="btn btn-primary btn-large">
                                    <span class="btn-text">Complete Payment</span>
                                    <span class="btn-amount" id="card-total">$0.00</span>
                                </button>
                            </form>
                        </div>

                        <!-- Google Pay -->
                        <div class="payment-tab-content" id="tab-gpay">
                            <div class="gpay-container">
                                <p class="gpay-description">Pay securely with Google Pay</p>
                                <button 
                                    type="button" 
                                    id="google-pay-button" 
                                    class="google-pay-button">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 0c6.6 0 12 5.4 12 12s-5.4 12-12 12S0 18.6 0 12 5.4 0 12 0z" fill="#5f6368"/>
                                        <path d="M12 1.5c5.85 0 10.5 4.65 10.5 10.5s-4.65 10.5-10.5 10.5S1.5 17.85 1.5 12 6.15 1.5 12 1.5z" fill="#fff"/>
                                    </svg>
                                    <span>Pay with Google Pay</span>
                                </button>
                                <div class="gpay-info">
                                    <p>üîí Your payment information is secure and protected by Google Pay</p>
                                    <p class="test-mode">‚ÑπÔ∏è Test Mode: Use test card 4532 1111 1111 1111</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" id="btn-prev-3">Back</button>
                    </div>
                </div>
            </div>

            <!-- Order Summary Sidebar (Desktop) -->
            <aside class="order-summary-sidebar">
                <div class="sidebar-sticky">
                    <h3>Order Summary</h3>
                    <div class="sidebar-items" id="sidebar-items">
                        <!-- Items will be populated here -->
                    </div>
                    <div class="sidebar-totals">
                        <div class="total-row">
                            <span>Subtotal:</span>
                            <span id="sidebar-subtotal">$0.00</span>
                        </div>
                        <div class="total-row">
                            <span>Shipping:</span>
                            <span id="sidebar-shipping">$0.00</span>
                        </div>
                        <div class="total-row">
                            <span>Tax:</span>
                            <span id="sidebar-tax">$0.00</span>
                        </div>
                        <div class="total-row total">
                            <span>Total:</span>
                            <span id="sidebar-total">$0.00</span>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <!-- Success Modal -->
    <div class="modal" id="success-modal">
        <div class="modal-content">
            <div class="success-icon">‚úì</div>
            <h2>Order Confirmed!</h2>
            <p>Thank you for your purchase</p>
            <div class="order-confirmation" id="order-confirmation">
                <!-- Order details will be shown here -->
            </div>
            <button type="button" class="btn btn-primary" onclick="location.href='index.html'">
                Continue Shopping
            </button>
        </div>
    </div>

    <!-- Error Modal -->
    <div class="modal" id="error-modal">
        <div class="modal-content error">
            <div class="error-icon">‚úï</div>
            <h2>Payment Failed</h2>
            <p id="error-message">An error occurred during payment processing</p>
            <button type="button" class="btn btn-primary" onclick="closeErrorModal()">
                Try Again
            </button>
        </div>
    </div>

    <script src="js/checkout-multistep.js"></script>
</body>
</html>
